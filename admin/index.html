<!DOCTYPE html>
<html lang="pt-BR" data-page="admin">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://squad-web-gecom.github.io/sicoob-styles/sicoob-style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../assets/css/main.css">
  <title>Admin - Hub Marketing Sicoob</title>
</head>
<body>
  <div id="hub-nav"></div>
  <main class="acland hub-content">
    <div id="loader"><div class="spinner-border" role="status"></div></div>

    <div id="app-view" style="display:none;">
      <div class="hub-page-header">
        <h1 class="hub-page-title"><i class="fa-solid fa-gear"></i> Admin</h1>
        <button class="btn btn-secondary btn-sm" id="btn-open-icones" title="Consultar ícones">
          <i class="fa-solid fa-icons mr-1"></i>Ícones
        </button>
      </div>

      <!-- Modal flutuante de consulta de ícones -->
      <div id="icones-modal-overlay" class="icones-modal-overlay">
        <div class="icones-modal" id="icones-modal">
          <div class="icones-modal-header">
            <span><i class="fa-solid fa-icons mr-2"></i>Referência de Ícones</span>
            <button class="hub-modal-close" id="btn-close-icones">&times;</button>
          </div>
          <div class="icones-modal-search">
            <input type="text" id="icones-search" class="form-control form-control-sm" placeholder="Buscar ícone...">
            <div class="icones-filter-btns">
              <button class="btn btn-sm btn-secondary active" data-prefix="fa-solid">Solid</button>
              <button class="btn btn-sm btn-secondary" data-prefix="fa-brands">Brands</button>
            </div>
          </div>
          <div class="icones-modal-body" id="icones-grid"></div>
        </div>
      </div>

      <!-- Tab Navigation com setas de scroll -->
      <div class="admin-tabs-container mb-4">
        <button class="tabs-scroll-btn tabs-scroll-left" id="tabs-scroll-left" aria-label="Rolar esquerda">
          <i class="fa-solid fa-chevron-left"></i>
        </button>
        <div class="admin-tabs-wrapper" id="admin-tabs-wrapper">
          <ul class="nav nav-pills" id="admin-tabs">
            <li class="nav-item"><a class="nav-link" href="#usuarios" data-tab="usuarios"><i class="fa-solid fa-users"></i> Usuários</a></li>
            <li class="nav-item"><a class="nav-link" href="#estrutura" data-tab="estrutura"><i class="fa-solid fa-sitemap"></i> Estrutura</a></li>
            <li class="nav-item"><a class="nav-link" href="#squads" data-tab="squads"><i class="fa-solid fa-users-gear"></i> Squads</a></li>
            <li class="nav-item"><a class="nav-link" href="#categorias" data-tab="categorias"><i class="fa-solid fa-tags"></i> Categorias</a></li>
            <li class="nav-item"><a class="nav-link" href="#formularios" data-tab="formularios"><i class="fa-solid fa-file-lines"></i> Formulários</a></li>
            <li class="nav-item"><a class="nav-link" href="#mesas" data-tab="mesas"><i class="fa-solid fa-chair"></i> Mesas</a></li>
            <li class="nav-item"><a class="nav-link" href="#registros" data-tab="registros"><i class="fa-solid fa-clipboard-list"></i> Registros</a></li>
            <li class="nav-item"><a class="nav-link" href="#links" data-tab="links"><i class="fa-solid fa-link"></i> Links</a></li>
          </ul>
        </div>
        <button class="tabs-scroll-btn tabs-scroll-right" id="tabs-scroll-right" aria-label="Rolar direita">
          <i class="fa-solid fa-chevron-right"></i>
        </button>
      </div>

      <!-- Tab content panels -->
      <div id="tab-content">
        <div class="tab-panel" id="panel-usuarios"></div>
        <div class="tab-panel" id="panel-estrutura"></div>
        <div class="tab-panel" id="panel-squads"></div>
        <div class="tab-panel" id="panel-categorias"></div>
        <div class="tab-panel" id="panel-formularios"></div>
        <div class="tab-panel" id="panel-mesas"></div>
        <div class="tab-panel" id="panel-registros"></div>
        <div class="tab-panel" id="panel-links"></div>
      </div>
    </div>

    <!-- Generic edit modal -->
    <div class="hub-modal-overlay" id="edit-modal-overlay">
      <div class="hub-modal" id="edit-modal" style="max-width:700px;">
        <div class="hub-modal-header">
          <h4 id="edit-modal-title">Editar</h4>
          <button class="hub-modal-close" onclick="document.getElementById('edit-modal-overlay').classList.remove('show')">&times;</button>
        </div>
        <div class="hub-modal-body" id="edit-modal-body"></div>
        <div class="hub-modal-footer">
          <button class="btn btn-secondary" onclick="document.getElementById('edit-modal-overlay').classList.remove('show')">Cancelar</button>
          <button class="btn btn-primary" id="edit-modal-save">Salvar</button>
        </div>
      </div>
    </div>

    <!-- Confirm delete modal -->
    <div class="hub-modal-overlay" id="confirm-modal-overlay">
      <div class="hub-modal" style="max-width:400px;">
        <div class="hub-modal-header">
          <h4>Confirmar</h4>
          <button class="hub-modal-close" onclick="document.getElementById('confirm-modal-overlay').classList.remove('show')">&times;</button>
        </div>
        <div class="hub-modal-body" id="confirm-modal-body">
          <p>Tem certeza que deseja desativar este item?</p>
        </div>
        <div class="hub-modal-footer">
          <button class="btn btn-secondary" onclick="document.getElementById('confirm-modal-overlay').classList.remove('show')">Cancelar</button>
          <button class="btn btn-danger" id="confirm-modal-ok">Confirmar</button>
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/js/main.js"></script>
  <script src="../assets/js/admin.js"></script>
</body>
</html>
